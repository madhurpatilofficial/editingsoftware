<div class="editor-container">
  <div class="toolbar">
    <button
      mat-icon-button
      title="Bold"
      aria-label="Bold"
      (click)="format('bold')"
      class="fresh-color-1"
    >
      <mat-icon>format_bold</mat-icon>
    </button>

    <button
      mat-icon-button
      title="Italic"
      (click)="format('italic')"
      class="fresh-color-2"
    >
      <mat-icon>format_italic</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Underline"
      (click)="toggleUnderline()"
      class="fresh-color-3"
    >
      <mat-icon>format_underlined</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Ordered List"
      (click)="format('insertOrderedList')"
      class="fresh-color-7"
    >
      <mat-icon>format_list_numbered</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Unordered List"
      (click)="format('insertUnorderedList')"
      class="fresh-color-5"
    >
      <mat-icon>format_list_bulleted</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Undo"
      (click)="format('undo')"
      class="fresh-color-6"
    >
      <mat-icon>undo</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Redo"
      (click)="format('redo')"
      class="fresh-color-7"
    >
      <mat-icon>redo</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Align Left"
      (click)="alignText('left')"
      class="fresh-color-8"
    >
      <mat-icon>format_align_left</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Align Center"
      (click)="alignText('center')"
      class="fresh-color-9"
    >
      <mat-icon>format_align_center</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Align Right"
      (click)="alignText('right')"
      class="fresh-color-10"
    >
      <mat-icon>format_align_right</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Justify"
      (click)="alignText('justify')"
      class="fresh-color-1"
    >
      <mat-icon>format_align_justify</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Heading 1"
      (click)="setHeading(1)"
      class="fresh-color-2"
    >
      <mat-icon>looks_one</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Heading 2"
      (click)="setHeading(2)"
      class="fresh-color-3"
    >
      <mat-icon>looks_two</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Heading 3"
      (click)="setHeading(3)"
      class="fresh-color-4"
    >
      <mat-icon>looks_3</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Subscript"
      (click)="toggleSubscript()"
      class="fresh-color-5"
    >
      <mat-icon>vertical_align_bottom</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Superscript"
      (click)="toggleSuperscript()"
      class="fresh-color-6"
    >
      <mat-icon>vertical_align_top</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Strikethrough"
      (click)="toggleStrikethrough()"
      class="fresh-color-7"
    >
      <mat-icon>strikethrough_s</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Clear Formatting"
      (click)="clearFormatting()"
      class="fresh-color-8"
    >
      <mat-icon>format_clear</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Indent"
      (click)="indent()"
      class="fresh-color-9"
    >
      <mat-icon>format_indent_increase</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Outdent"
      (click)="outdent()"
      class="fresh-color-10"
    >
      <mat-icon>format_indent_decrease</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Insert Horizontal Rule"
      (click)="insertHorizontalRule()"
      class="fresh-color-1"
    >
      <mat-icon>remove</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Toggle Blockquote"
      (click)="toggleBlockquote()"
      class="fresh-color-3"
    >
      <mat-icon>format_quote</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Insert Date"
      (click)="insertDate()"
      class="fresh-color-5"
    >
      <mat-icon>date_range</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Insert Time"
      (click)="insertTime()"
      class="fresh-color-6"
    >
      <mat-icon>access_time</mat-icon>
    </button>

    <button
      mat-icon-button
      title="Download as Text"
      (click)="downloadAsText()"
      class="fresh-color-10"
    >
      <mat-icon>description</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Insert Special Character"
      (click)="insertSpecialCharacter('Â©')"
      class="fresh-color-1"
    >
      <mat-icon>copyright</mat-icon>
    </button>
    <div
      class="emoji-container"
      (mouseenter)="openEmojiPicker()"
      (mouseleave)="closeEmojiPicker()"
    >
      <button
        mat-icon-button
        title="Insert Emoji"
        class="fresh-color-2"
        (mousedown)="$event.preventDefault()"
        (click)="toggleEmojiPicker()"
      >
        ðŸ˜Š
      </button>
      <div *ngIf="showEmojiPicker" class="emoji-picker">
        <span
          *ngFor="let emoji of emojis"
          (mousedown)="$event.preventDefault(); insertEmoji(emoji)"
        >
          {{ emoji }}
        </span>
      </div>
    </div>

    <button
      mat-icon-button
      title="Insert Line Break"
      (click)="insertLineBreak()"
      class="fresh-color-3"
    >
      <mat-icon>wrap_text</mat-icon>
    </button>
    <div
      class="highlight-dropdown"
      (mouseenter)="showHighlightOptions = true"
      (mouseleave)="showHighlightOptions = false"
    >
      <button mat-icon-button title="Highlight" class="fresh-color-6">
        <mat-icon>highlight</mat-icon>
      </button>
      <div class="dropdown-content" *ngIf="showHighlightOptions">
        <div>
          <color-sketch
            (onChangeComplete)="handleColorChange($event)"
          ></color-sketch>
        </div>
      </div>
    </div>

    <button
      mat-icon-button
      title="Toggle Read-Only"
      (click)="toggleReadOnly()"
      class="fresh-color-10"
    >
      <mat-icon>lock</mat-icon>
    </button>

    <button
      mat-icon-button
      title="Fullscreen"
      (click)="toggleFullscreen()"
      class="fresh-color-7"
    >
      <mat-icon>fullscreen</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Print"
      (click)="printContent()"
      class="fresh-color-8"
    >
      <mat-icon>print</mat-icon>
    </button>
    <button
      mat-icon-button
      title="Download as HTML"
      (click)="downloadAsHTML()"
      class="fresh-color-9"
    >
      <mat-icon>code</mat-icon>
    </button>

    <button
      mat-icon-button
      title="Insert Table Caption"
      (click)="insertTableCaption('Table Caption')"
      class="fresh-color-2"
    >
      <mat-icon>notes</mat-icon>
    </button>

    <button
      mat-icon-button
      title="Insert Footnote"
      (click)="insertFootnote()"
      class="fresh-color-1"
    >
      <mat-icon>subscript</mat-icon>
    </button>

    <button
      mat-icon-button
      title="Insert Table"
      (click)="openTableInputDialog()"
      class="fresh-color-6"
    >
      <mat-icon>table_chart</mat-icon>
    </button>

    <button
      mat-icon-button
      title="{{ isVoiceTyping ? 'Stop Voice Typing' : 'Start Voice Typing' }}"
      (click)="startVoiceTyping()"
      class="fresh-color-3"
    >
      <mat-icon>{{ isVoiceTyping ? "mic_off" : "mic" }}</mat-icon>
    </button>

  </div>
</div>
<div class="editor-container">
<div class="button-group">
  <button type="button" class="btn btn-save" (click)="saveContent()">
    <span class="btn-icon">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
      </svg>
    </span>
    <span class="btn-text">Save Content</span>
  </button>
  
  <button class="btn-read" title="{{ isReading ? 'Stop Reading' : 'Start Reading' }}" (click)="isReading ? stopReading() : startReading()">
    <span class="btn-icon">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" [attr.d]="isReading ? 'M6 6h12v12H6z' : 'M8 5v14l11-7z'"/>
      </svg>
    </span>
    <span class="btn-text">{{ isReading ? 'Stop' : 'Play' }}</span>
  </button>
</div>
  <mat-form-field appearance="fill" class="editor-field">
    <div
      #editor
      class="editor"
      contenteditable="true"
      [(ngModel)]="content"
    ></div>
  </mat-form-field>
</div>